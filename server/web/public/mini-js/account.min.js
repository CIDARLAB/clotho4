function checkAccountInformation(e){if(removeDanger(e),allFieldsFilled(e)){var s={};$.each($("#changeAccountInfoForm").serializeArray(),function(e,a){s[a.name]=a.value}),$.ajax({url:"/api/users/my",method:"PUT",data:s,success:function(){successAlert("Success!")},error:function(e){failureAlert(e.responseJSON.message)}})}}function checkPassword(e){removeDanger(e);var s=allFieldsFilled(e),a=passwordsMatch(e);if(s&&a){var o={password:e[0][0].value};$.ajax({url:"/api/users/my/password",method:"PUT",data:o,success:function(){successAlert("Success!")},error:function(e){failureAlert(e.responseJSON.message)}})}}function hideForms(e){for(var s=0;s<e.length;s++)e[s].style.display="none"}function removeDanger(e){for(var s=0;s<e.length;s++)e[s].removeClass("is-danger")}function allFieldsFilled(e){for(var s=0;s<e.length;s++)if(""===e[s][0].value)return failureAlert("Please fill out the "+e[s][0].id),!1;return!0}function passwordsMatch(e){return e[0][0].value===e[1][0].value||(failureAlert("Passwords do not match!"),!1)}function failureAlert(e){$("#alert").text(e).removeClass("is-success").addClass("is-danger").css({opacity:0,visibility:"visible"}).animate({opacity:1},400)}function successAlert(e){$("#alert").text(e).removeClass("is-danger").addClass("is-success").css({opacity:0,visibility:"visible"}).animate({opacity:1},400),window.setTimeout(function(){$("#alert").css({opacity:1,visibility:"visible"}).animate({opacity:0},400)},2500)}var nameField=$("#name"),usernameField=$("#username"),email=$("#email"),accountInfoFields=[nameField,usernameField,email],passwordField=$("#password"),retypePasswordField=$("#retypePassword"),passwordFields=[passwordField,retypePasswordField],accountInfoForm=document.getElementById("changeAccountInfoForm"),passwordForm=document.getElementById("changePasswordForm"),forms=[accountInfoForm,passwordForm];hideForms([forms[1]]),$("#changeAccountInfoForm").on("submit",function(e){e.preventDefault(),checkAccountInformation(accountInfoFields)}),$("#changePasswordForm").on("submit",function(e){e.preventDefault(),checkPassword(passwordFields)}),$("#changeUserAccountInfo").click(function(e){e.preventDefault(),hideForms(forms),accountInfoForm.style.display="",$("#success").hide(),$("#pwd").removeClass("is-active"),$("#actInfo").addClass("is-active")}),$("#changePassword").click(function(e){e.preventDefault(),hideForms(forms),passwordForm.style.display="",$("#pwNotification").hide(),$("#actInfo").removeClass("is-active"),$("#pwd").addClass("is-active")});